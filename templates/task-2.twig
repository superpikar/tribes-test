{% extends "_layouts/base.twig" %}

{% css %}
  .people-item:hover {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(184, 184, 184, 1);
  }
{% endcss %}

{% set entries = [1, 2, 3, 4, 5, 6] %}

{% block content %}
  <div class="text-white mt-36" x-data="alpine_task2()">
    <h1 class="text-4xl">
      Our Teachers
    </h1>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-16">
      {% for item in entries %}
        {% include "_includes/people_item.twig" with {
          item: null,
          class: 'mx-8',
          key: loop.index0,
        } %}
      {% endfor %}
    </div>
    <div class="text-center mt-24">
      <a class="px-8 py-3 bg-indigo-500 hover:bg-indigo-600 text-white rounded" href="#">
        View More
      </a>
    </div>

    {% embed "_includes/modal.twig" with { class: 'bg-gray-800 text-white' } %}
      {% block modalContent %}
        this is modal content
        <template x-if="currentData !== null">
          <p class="text-2xl" x-text="currentData.jobTitle"></p>
          <div class="flex">
            <img :src="currentData.profilePhoto[0].url" />
            <div>
              <p x-text="currentData.title" class="text-xl"></p>
              <div x-html="currentData.body"></div>
            </div>
          </div>
        </template>
      {% endblock %}
    {% endembed %}

  </div>
{% endblock %}

{% js %}
  let entries = {{ entries|raw|json_encode }};
  function alpine_task2() {
    return {
      isModalShown: false,
      currentData: null,
      showModal(index) {
        this.isModalShown = true;
        this.currentData = entries[index] ?? null;
      },
      closeModal() {
        this.isModalShown = false;
        this.currentData = null;
      },
    };
  }
{% endjs %}